<%= form_for [@portfolio, @progress] do |f| %>
  <% if controller.action_name.in?(["new", "create"]) %>
    <h1><%= @portfolio.title %> #<%= @portfolio.progresses.count + 1 %></h1>
  <% else %>
    <h1><%= @portfolio.title %> #<%= get_progress_number(@portfolio, @progress) %></h1>
  <% end %>

  <%= render 'shared/error_messages', object: f.object %>

  <div class="status">
    <%= f.label :status, t(".progress_status")%>
    <%= f.select :status, Progress.statuses.keys.map {|k| [I18n.t("enums.progress.status.#{k}"), k]} %>
  </div>
  <%= f.rich_text_area :content %>

  <div class="action">
    <%= f.submit "#{yield(:submit_text)}", class: "btn btn-primary" %>
  </div>
<% end %>
